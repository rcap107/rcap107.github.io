{
  "hash": "48fe65ce6b883caf8cc7a5e512b6482e",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Learning contour plots for theorycrafting\ndate: 2025/04/06\ndraft: true\ncategories:\n  - code\n  - games\n  - \"blade and soul\"\n  - plotting\n---\n\n\n\n\nToday's blog post will be another entry in my collection of \"using games as excuse\nto learn stuff that might be useful at work\". Specifically, I will be trying to\nlearn how [contour plots](https://en.wikipedia.org/wiki/Contour_line) work by\napplying formulas that are used in games.\n\nIn this case, it'll be again about Blade and Soul and its damage formula, which\nI explained in more detail in a [previous blog post](/posts/bns/post-bns-intro.qmd),\nwhich you might want to read before continuing here. Don't worry, I'll wait!\n\n## The objective: figure out which stats should be upgraded first\nAfter figuring out how damage works, my next step is then deciding how to plan\nmy upgrades to prioritize specific attributes. In this case, I was interested\nin finding out what's more important between **Critical Rate** (Crit%) and\n**Critical Damage** (CDmg). Having a higher critical rate means that more attacks are\ncritical hits in general, while having a higher critical damage means that critical\nattacks hit harder.\n\nWhat's important to note is that, past a certain point, AP is by far the hardest\nattribute to increase, and critical rate is easier to come by than critical damage.\nAP sources are more limited than other stats (soulshields do not give AP, at\nleast for the time being), and it is normal to hover around the same AP value\nfor a long time.\nOn the other hand, the two critical stats can be found on most equipment, although\na specific amount of critical rate (say, 100) will correspond to a lower\namount of critical damage by a lower amount (say 60).\n\nAs a result (and at the time of writing), most characters will have an AP value\nbetween 600 and 800, and a Critical rate and Critical damage in the\n500 to 2500 range.\n\nGiven all this, I had two questions I wanted to answer: what's the impact of\nCDmg over my final Damage value?\nShould I sacrifice Crit% on purpose in order to have more CDmg, or should I\nkeep both attributes somewhat balanced?\n\nA way of doing this could be plotting the damage formula as a function of two\nof the three variables, and try to draw some conclusions from there.\nAs a reminder, the main \"Damage\" formula is this:\n$$\nDamage = AP \\times (Crit\\% \\times CDmg + (1-Crit\\%))\n$$\nThen, in order to get from the attributes shown on the character page to those\nin the formula, I need to use the other two equations:\n$$\nCrit\\% = \\frac{Crit \\times 96.98979}{Crit + 1124.069}\n$$\nwhere $Crit$ is the _Critical rate_ attribute.\n$$\nCDmg = \\frac{CD \\times 290.8}{CD + 2102.36} + 125\n$$\nwhere $CD$ is the _Critical damage_ attribute.\n\nGiven all this, we can use contour plots to get some indicative answers.\n\n## What are contour plots, and why do I want to use them?\nContour plots are a type of plot that is typically used to represent functions\nof two variables on a flat plane. The function may be a mathematical function\n(like in the case I will consider), but also a geographical representation of\na region.\n\nIn this case, I was inspired to use contour plots by a different blogger, who\nused contour plots for a different videogame (see\n[here](https://big-stupid-jellyfish.github.io/GFMath/pages/newerquip)).\nI found contour plots to be quite interesting and fairly easy to understand and\nshow to people. An added bonus was that I have never used them anywhere, so this\ncould be another \"learning experience\" to then bring back to my daily job.\nAfter writing some code using matplotlib, I thought it could be interesting\nto try out the plotly library, for added interactivity and because I have never\ngiven it a good try.\n\nIntroduction out of the way, it's time to write some code.\n\n::: {#e1c5da39 .cell execution_count=1}\n``` {.python .cell-code}\n# First off, the mandatory imports\nimport numpy as np\nimport plotly.graph_objects as go\n```\n:::\n\n\n::: {#adcfcc5c .cell execution_count=2}\n``` {.python .cell-code}\n# Now I will define some utility functions based on the equations described above.\ndef fun_crit(crit_attr):\n    return (96.98979 * crit_attr) / (1124.069 + crit_attr)\n\n\ndef fun_cdmg(cdmg_attr):\n    return (290.8 * cdmg_attr) / (2102.36 + cdmg_attr) + 125\n\n\ndef damage_formula(ap, crit_attr, cdmg_attr):\n    crit = fun_crit(crit_attr)\n    cdmg = fun_cdmg(cdmg_attr)\n    # Dividing by 100 to convert to probability\n    return ap * (crit / 100 * cdmg / 100 + (1 - crit / 100))\n```\n:::\n\n\n::: {#6a305d5d .cell execution_count=3}\n``` {.python .cell-code}\n# x = crit rate\n# y = crit damage\n# z = damage\nAP = 700\nx = np.linspace(700, 2500, 100)\ny = np.linspace(500, 2500, 100)\n\nz = AP * (fun_crit(y) / 100 * (fun_cdmg(x) / 100 - 1) + 1)\n\nfig = go.Figure(\n    data=[\n        go.Contour(\n            x=x,\n            y=y,\n            z=z,\n            contours=dict(showlabels=True, labelfont=dict(size=12, color=\"white\")),\n        ),\n    ],\n    layout=dict(\n        width=800,\n        height=600,\n        xaxis_title=\"Critical Damage\",\n        yaxis_title=\"Critical rate\",\n    ),\n)\nfig.show()\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n        <script type=\"text/javascript\">\n        window.PlotlyConfig = {MathJaxConfig: 'local'};\n        if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}\n        </script>\n        <script type=\"module\">import \"https://cdn.plot.ly/plotly-3.0.1.min\"</script>\n        \n```\n:::\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n        <script charset=\"utf-8\" src=\"https://cdn.plot.ly/plotly-3.0.1.min.js\"></script>                <div id=\"c4015b4d-d6de-43e1-9dfb-c59a27fd3f9e\" class=\"plotly-graph-div\" style=\"height:600px; width:800px;\"></div>            <script type=\"text/javascript\">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById(\"c4015b4d-d6de-43e1-9dfb-c59a27fd3f9e\")) {                    Plotly.newPlot(                        \"c4015b4d-d6de-43e1-9dfb-c59a27fd3f9e\",                        [{\"contours\":{\"labelfont\":{\"color\":\"white\",\"size\":12},\"showlabels\":true},\"x\":{\"dtype\":\"f8\",\"bdata\":\"AAAAAADghUDRRRdddHGGQKOLLrroAodAdNFFF12Uh0BGF1100SWIQBdddNFFt4hA6aKLLrpIiUC66KKLLtqJQIwuuuiia4pAXXTRRRf9ikAvuuiii46LQAAAAAAAIIxA0kUXXXSxjECjiy666EKNQHTRRRdd1I1ARhdddNFljkAYXXTRRfeOQOmiiy66iI9AXXTRRRcNkEBGF1100VWQQC+66KKLnpBAGF100UXnkEAAAAAAADCRQOmiiy66eJFA0kUXXXTBkUC66KKLLgqSQKOLLrroUpJAjC666KKbkkB00UUXXeSSQF500UUXLZNARhdddNF1k0Avuuiii76TQBhddNFFB5RAAAAAAABQlEDpoosuupiUQNJFF1104ZRAuuiiiy4qlUCjiy666HKVQIwuuuiiu5VAdNFFF10ElkBedNFFF02WQEYXXXTRlZZAL7rooovelkAYXXTRRSeXQAAAAAAAcJdA6aKLLrq4l0DSRRdddAGYQLrooosuSphAo4suuuiSmECMLrrootuYQHTRRRddJJlAXnTRRRdtmUBGF1100bWZQC+66KKL\\u002fplAGF100UVHmkAAAAAAAJCaQOmiiy662JpA0kUXXXQhm0C76KKLLmqbQKOLLrrosptAjC666KL7m0B10UUXXUScQF500UUXjZxARhdddNHVnEAvuuiiix6dQBhddNFFZ51AAAAAAACwnUDpoosuuvidQNJFF110QZ5Au+iiiy6KnkCjiy666NKeQIwuuuiiG59AddFFF11kn0BedNFFF62fQEYXXXTR9Z9AGF100UUfoECMLrrookOgQAAAAAAAaKBAdNFFF12MoEDpoosuurCgQF500UUX1aBA0kUXXXT5oEBGF1100R2hQLrooosuQqFAL7roootmoUCjiy666IqhQBhddNFFr6FAjC666KLToUAAAAAAAPihQHTRRRddHKJA6aKLLrpAokBedNFFF2WiQNJFF110iaJARhdddNGtokC66KKLLtKiQC+66KKL9qJAo4suuugao0AYXXTRRT+jQIwuuuiiY6NAAAAAAACIo0A=\"},\"y\":{\"dtype\":\"f8\",\"bdata\":\"AAAAAABAf0B3hsS8nUGAQO4MiXk744BAZZNNNtmEgUDcGRLzdiaCQFOg1q8UyIJAyiabbLJpg0BArV8pUAuEQLgzJObtrIRALrroootOhUCmQK1fKfCFQBzHcRzHkYZAk0022WQzh0AK1PqVAtWHQIFav1KgdohA+OCDDz4YiUBvZ0jM27mJQObtDIl5W4pAXXTRRRf9ikDU+pUCtZ6LQEuBWr9SQIxAwgcffPDhjEA4juM4joONQLAUqPUrJY5AJptsssnGjkCeITFvZ2iPQArU+pUCBZBARhdddNFVkECBWr9SoKaQQLydITFv95BA+OCDDz5IkUA0JObtDJmRQG9nSMzb6ZFAqqqqqqo6kkDm7QyJeYuSQCIxb2dI3JJAXXTRRRctk0CYtzMk5n2TQNT6lQK1zpNAED744IMflEBLgVq\\u002fUnCUQIbEvJ0hwZRAwgcffPARlUD9SoFav2KVQDiO4ziOs5VAdNFFF10ElkCwFKj1K1WWQOtXCtT6pZZAJptsssn2lkBi3s6QmEeXQJ4hMW9nmJdA2WSTTTbpl0AUqPUrBTqYQFDrVwrUiphAiy666KLbmEDHcRzHcSyZQAK1fqVAfZlAPvjggw\\u002fOmUB5O0Ni3h6aQLV+pUCtb5pA8MEHH3zAmkAsBWr9ShGbQGdIzNsZYptAo4suuuiym0DezpCYtwOcQBkS83aGVJxAVVVVVVWlnECQmLczJPacQMzbGRLzRp1ABx988MGXnUBDYt7OkOidQH6lQK1fOZ5Auuiiiy6KnkD1KwVq\\u002fdqeQDFvZ0jMK59AbLLJJpt8n0Co9SsFas2fQHIcx3EcD6BAED744IM3oECtXylQ61+gQEuBWr9SiKBA6KKLLrqwoECGxLydIdmgQCTm7QyJAaFAwgcffPApoUBgKVDrV1KhQP1KgVq\\u002feqFAm2yyySajoUA4juM4jsuhQNavFKj186FAdNFFF10cokAS83aGxESiQLAUqPUrbaJATjbZZJOVokDrVwrU+r2iQIl5O0Ni5qJAJptssskOo0DEvJ0hMTejQGLezpCYX6NAAAAAAACIo0A=\"},\"z\":{\"dtype\":\"f8\",\"bdata\":\"0Zcz4K5AjEDFCh8H8oWMQK\\u002fWvRoQy4xA+ygPBQMQjUDaaGUpxVSNQNok0ltRmY1AI4A42aLdjUCcL\\u002fg\\u002ftSGOQH5hJImEZY5AphI7Ag2pjkDpX1JHS+yOQIlRsj08L49AunfSDt1xj0A1crMjK7SPQFAtjSAk9o9ASJ9l8OIbkEBxrag5hzyQQOAxgQv+XJBASX\\u002fCm0Z9kEADiyA1YJ2QQBEDyTVKvZBAqcYUDgTdkEDN9k8\\u002fjfyQQFr5llrlG5FAjOrG\\u002fws7kUD2F4DcAFqRQG47OavDeJFAs0ZiMlSXkUBup5VDsrWRQBkB17rd05FAv23efdbxkUC1aG97nA+SQOiWuqovLZJAjK\\u002fJCpBKkkAZ1vShvWeSQPfCYH24hJJAoCSFsIChkkBBrbpUFr6SQGpL0Ih52pJARxWncKr2kkCMdtQ0qRKTQBE5SgJ2LpNAZQcEChFKk0A7D7qAemWTQAFwmJ6ygJNAcif7nrmbk0B0My7Aj7aTQF+lMUM10ZNAhWeBa6rrk0DMeeB+7wWUQGpuJ8UEIJRAKvMViOo5lEBGNycToVOUQMwAabMobZRAoUdVt4GGlEDQLq5urJ+UQGA3XCqpuJRASYpOPHjRlEBOOV33GeqUQKRYLa+OApVA89QWuNYalUBY6wtn8jKVQJAqghHiSpVAzuVcDaZilUCsA9mwPnqVQF0UelKskZVAMZz4SO+olUAKgDHrB8CVQAODFpD21pVAJMWfjrvtlUBNNL49VwSWQA\\u002fhTvTJGpZAayoPCRQxlkDFs5HSNUeWQIAZNKcvXZZAElkV3QFzlkBR4gzKrIiWQCJIosMwnpZAPIcFH46zlkCE2gcxxciWQL0UFU7W3ZZAwnctysHylkA\\u002fAuD4hweXQO8sRS0pHJdA3hD6uaUwl0DW8Bvx\\u002fUSXQPYfRCQyWZdAR0CEpEJtl0AN1GLCL4GXQB0d2M35lJdAmkVLFqGol0DgzY\\u002fqJbyXQJM745iIz5dA8gXrbsnil0Dau7K56PWXQBxgqsXmCJhA4vik3sMbmEAXT9dPgC6YQAXb1mMcQZhAc9uYZJhTmEA=\"},\"type\":\"contour\"}],                        {\"height\":600,\"width\":800,\"xaxis\":{\"title\":{\"text\":\"Critical Damage\"}},\"yaxis\":{\"title\":{\"text\":\"Critical rate\"}},\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermap\":[{\"type\":\"scattermap\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"bgcolor\":\"#E5ECF6\",\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"#E5ECF6\",\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"subunitcolor\":\"white\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"},\"margin\":{\"b\":0,\"l\":0,\"r\":0,\"t\":30}}}},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('c4015b4d-d6de-43e1-9dfb-c59a27fd3f9e');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };            </script>        </div>\n```\n:::\n:::\n\n\n::: {#91b0af27 .cell execution_count=4}\n``` {.python .cell-code}\ny = np.linspace(650, 720, 50)\nx = np.linspace(1500, 1700, 50)\n# y = np.linspace(500, 2500, 100)\n\ncrit = 1500\n\nz = y * (fun_crit(crit) / 100 * (fun_cdmg(x) / 100 - 1) + 1)\n\nfig = go.Figure(\n    data=[\n        go.Contour(\n            x=x,\n            y=y,\n            z=z,\n            contours=dict(showlabels=True, labelfont=dict(size=12, color=\"white\")),\n            hovertemplate=\"CDmg: %{x:.0f} - AP: %{y:.0f} - Damage: %{z:.0f}\",\n            colorbar=dict(nticks=20, tickmode=\"auto\"),\n            ncontours=20\n        ),\n    ],\n    layout=dict(\n        width=640,\n        height=600,\n        xaxis_title=\"Critical damage\",\n        yaxis_title=\"AP\",\n        title_text=\"Critical damage vs AP - 1500 crit\",\n    ),\n)\nfig.show()\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n        <script charset=\"utf-8\" src=\"https://cdn.plot.ly/plotly-3.0.1.min.js\"></script>                <div id=\"eb08662f-9ee1-44f4-8c91-5540a0e16879\" class=\"plotly-graph-div\" style=\"height:600px; width:640px;\"></div>            <script type=\"text/javascript\">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById(\"eb08662f-9ee1-44f4-8c91-5540a0e16879\")) {                    Plotly.newPlot(                        \"eb08662f-9ee1-44f4-8c91-5540a0e16879\",                        [{\"colorbar\":{\"nticks\":20,\"tickmode\":\"auto\"},\"contours\":{\"labelfont\":{\"color\":\"white\",\"size\":12},\"showlabels\":true},\"hovertemplate\":\"CDmg: %{x:.0f} - AP: %{y:.0f} - Damage: %{z:.0f}\",\"ncontours\":20,\"x\":{\"dtype\":\"f8\",\"bdata\":\"AAAAAABwl0C8nIKXU4CXQHg5BS+nkJdANNaHxvqgl0DwcgpeTrGXQKwPjfWhwZdAaKwPjfXRl0AlSZIkSeKXQOHlFLyc8pdAnYKXU\\u002fACmEBZHxrrQxOYQBW8nIKXI5hA0VgfGuszmECN9aGxPkSYQEmSJEmSVJhABS+n4OVkmEDByyl4OXWYQH1orA+NhZhAOgUvp+CVmED2obE+NKaYQLI+NNaHtphAbtu2bdvGmEAqeDkFL9eYQOYUvJyC55hAorE+NNb3mEBeTsHLKQiZQBrrQ2N9GJlA1ofG+tAomUCSJEmSJDmZQE7Byyl4SZlACl5OwctZmUDH+tBYH2qZQIOXU\\u002fByeplAPzTWh8aKmUD70FgfGpuZQLdt27Ztq5lAcwpeTsG7mUAvp+DlFMyZQOtDY31o3JlAp+DlFLzsmUBjfWisD\\u002f2ZQB8a60NjDZpA3LZt27YdmkCYU\\u002fByCi6aQFTwcgpePppAEI31obFOmkDMKXg5BV+aQIjG+tBYb5pARGN9aKx\\u002fmkAAAAAAAJCaQA==\"},\"y\":{\"dtype\":\"f8\",\"bdata\":\"AAAAAABQhEC3bdu2bVuEQG7btm3bZoRAJUmSJElyhEDbtm3btn2EQJIkSZIkiYRASZIkSZKUhEAAAAAAAKCEQLdt27Ztq4RAbtu2bdu2hEAlSZIkScKEQNu2bdu2zYRAkiRJkiTZhEBJkiRJkuSEQAAAAAAA8IRAt23btm37hEBu27Zt2waFQCVJkiRJEoVA27Zt27YdhUCSJEmSJCmFQEmSJEmSNIVAAAAAAABAhUC3bdu2bUuFQG7btm3bVoVAJUmSJElihUDbtm3btm2FQJIkSZIkeYVASZIkSZKEhUAAAAAAAJCFQLdt27Ztm4VAbtu2bdumhUAlSZIkSbKFQNu2bdu2vYVAkiRJkiTJhUBJkiRJktSFQAAAAAAA4IVAt23btm3rhUBu27Zt2\\u002faFQCVJkiRJAoZA27Zt27YNhkCSJEmSJBmGQEmSJEmSJIZAAAAAAAAwhkC3bdu2bTuGQG7btm3bRoZAJUmSJElShkDctm3btl2GQJIkSZIkaYZASZIkSZJ0hkAAAAAAAICGQA==\"},\"z\":{\"dtype\":\"f8\",\"bdata\":\"3ZooDtphkkCGUFEa+G6SQCO2AqgXfJJA93LutTiJkkB0sMdCW5aSQAoYQ01\\u002fo5JA\\u002f9AW1KSwkkBKfvrVy72SQG08p1H0ypJAXp\\u002fXRR7YkkBpsEexSeWSQBfstJJ28pJAIkDe6KT\\u002fkkBaCYSy1AyTQKURaO4FGpNA8Y1Nmzgnk0AnHPm3bDSTQDrBMEOiQZNAHOe7O9lOk0DIWmOgEVyTQEhK8W9LaZNAw0IxqYZ2k0CLLvBKw4OTQDJT\\u002fFMBkZNAmk8lw0Cek0AXGjyXgauTQH\\u002f+Es\\u002fDuJNAV5x9aQfGk0Dp5FBlTNOTQHMZY8GS4JNAS8mLfNrtk0AM0KOVI\\u002fuTQMVThQtuCJRALsML3bkVlEDU0xMJByOUQF6Ae45VMJRAvAYibKU9lEBt5ueg9kqUQL3eritJWJRAB+1ZC51llEAAS80+8nKUQPxs7sRIgJRAQQCknKCNlEBK6dXE+ZqUQCpCbTxUqJRA0FhUArC1lEBsrXYVDcOUQMDwwHRr0JRAgwIhH8vdlEC974UTLOuUQA==\"},\"type\":\"contour\"}],                        {\"height\":600,\"width\":640,\"xaxis\":{\"title\":{\"text\":\"Critical damage\"}},\"yaxis\":{\"title\":{\"text\":\"AP\"}},\"title\":{\"text\":\"Critical damage vs AP - 1500 crit\"},\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermap\":[{\"type\":\"scattermap\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"bgcolor\":\"#E5ECF6\",\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"#E5ECF6\",\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"subunitcolor\":\"white\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"},\"margin\":{\"b\":0,\"l\":0,\"r\":0,\"t\":30}}}},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('eb08662f-9ee1-44f4-8c91-5540a0e16879');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };            </script>        </div>\n```\n:::\n:::\n\n\n",
    "supporting": [
      "post-bns-contour_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}